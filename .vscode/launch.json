{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Cortex Debug",
            "cwd": "${workspaceFolder}",
            "executable": "./build/f1.elf",
            "gdbPath": "gdb-multiarch",
            "request": "launch",
            "type": "cortex-debug",
            "armToolchainPath":"/home/wangyang/toolchain/gcc-arm-none-eabi-5_2-2015q4/bin",
            // "ipAddress": "192.168.30.32",
            "gdbTarget":"192.168.30.32:2331",
            "device": "STM32F103R8",
            // "runToEntryPoint": "main",
            "servertype": "external",
            "breakAfterReset":true,
            "liveWatch": {
                "enabled": true,
                "samplesPerSecond": 4
            },
            "overrideRestartCommands": [
                "monitor halt",
                "monitor reset"
            ],
            "overrideResetCommands": [
                "monitor reset"
            ],
            "preLaunchCommands": [
                "monitor reset"
            ],
            "postLaunchCommands": [
            ],
            "showDevDebugOutput": "both",
            "swoConfig": {
                "enabled": true,
                "cpuFrequency": 120000000,
                "swoFrequency": 7500000,
                "source": "probe",
                "swoPort":"192.168.30.32:2332",
                "decoders": [
                    {
                        "type": "console",
                        "label": "ITM0",
                        "port": 0,
                        "encoding": "ascii"
                    }
                ]
            }
        },
        {
            "type": "gnu-debugger",
            "request": "launch",
            "name": "GNU debugger",
            "program": "${workspaceFolder}/build.nosync/firmware.elf",
            "toolchain": "${config:arm-none-eabi.bin}",
            "client": "arm-none-eabi-gdb",
            "server": "JLinkGDBServer",
            "windows": {
                "server": "C:/Program Files/SEGGER/JLink_V632g/JLinkGDBServerCL.exe",
            },
            "serverArgs": [
                "-device",
                "XMC1100-0064",
                "-if",
                "SWD",
                "-speed",
                "4000"
            ],
            "serverPort": 2331,
            "customVariables": [
                "port0",
                "port1",
                "port2",
            ],
            "autoRun": false,
            "debugOutput": false,
            "preLaunchTask": "build firmware"
        }
    ]
}